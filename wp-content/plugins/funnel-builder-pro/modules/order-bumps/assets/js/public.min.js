"use strict";function _typeof(o){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}!function(o){window.wfob_storage={variation_data:{}},wfob_frontend.call_backs={},wfob_frontend.hooks={hooks:{action:{},filter:{}},addAction:function(o,t,a,e){this.addHook("action",o,t,a,e)},addFilter:function(o,t,a,e){this.addHook("filter",o,t,a,e)},doAction:function(o){this.doHook("action",o,arguments)},applyFilters:function(o){return this.doHook("filter",o,arguments)},removeAction:function(o,t){this.removeHook("action",o,t)},removeFilter:function(o,t,a){this.removeHook("filter",o,t,a)},addHook:function(o,t,a,e,n){void 0==this.hooks[o][t]&&(this.hooks[o][t]=[]);var i=this.hooks[o][t];void 0==n&&(n=t+"_"+i.length),void 0==e&&(e=10),this.hooks[o][t].push({tag:n,callable:a,priority:e})},doHook:function(o,t,a){if(a=Array.prototype.slice.call(a,1),void 0!=this.hooks[o][t]){var e,n=this.hooks[o][t];n.sort(function(o,t){return o.priority-t.priority});for(var i=0;i<n.length;i++)"function"!=typeof(e=n[i].callable)&&(e=window[e]),"action"==o?e.apply(null,a):a[0]=e.apply(null,a)}if("filter"==o)return a[0]},removeHook:function(o,t,a,e){if(void 0!=this.hooks[o][t])for(var n=this.hooks[o][t],i=n.length-1;i>=0;i--)void 0!=e&&e!=n[i].tag||void 0!=a&&a!=n[i].priority||n.splice(i,1)}};var t=null;o(document.body).on("updated_checkout",function(o,t){if("object"==_typeof(t)&&t.hasOwnProperty("fragments")&&t.fragments.hasOwnProperty("wfob_ajax_data")){var a=t.fragments.wfob_ajax_data.action,e=t.fragments.wfob_ajax_data,n=t.fragments;wfob_frontend.hooks.doAction("wfob_ajax_response",e,n),wfob_frontend.hooks.doAction("wfob_ajax_"+a,e,n);var i=t.fragments.wfob_ajax_data.callback_id;""!==i&&wfob_frontend.call_backs.hasOwnProperty(i)&&"function"==typeof wfob_frontend.call_backs[i]&&wfob_frontend.call_backs[i](t.fragments.wfob_ajax_data,t.fragments)}}),o(document.body).on("wfob_quick_view_open",function(t){o("html").addClass("wfob_quick_view_opened")});var a,e="1"==wfob_frontend.cart_is_virtual,n=0===parseFloat(wfob_frontend.cart_total),i=(window.innerWidth,o("form.checkout")),r=null,_={message:null,overlayCSS:{background:"#fff",opacity:.6}},f={};function c(){o("#wfob_qr_model_wrap .wfob_option_btn").click(function(){!function(){if(o(".wfob_qv-main table.variations").length>0){var t=o(".wfob_qv-main .wfob_qv-images").innerHeight();o(".wfob_qv-main").animate({scrollTop:t})}o("form.variations_form.cart .variations").removeClass("wfacp_animate_shake"),setTimeout(function(){o("form.variations_form.cart .variations").addClass("wfacp_animate_shake")},500)}()})}function d(t){o(document.body).trigger("wfob_bump_trigger",t)}window.set_data=function(a,e){if("function"==typeof e){var n=(new Date).getTime();a.callback_id=n,wfob_frontend.call_backs[n]=e}wfob_frontend.hooks.doAction("wfob_before_ajax_"+a.action,a.data),a=wfob_frontend.hooks.applyFilters("wfob_before_ajax_data_"+a.action,a),wfob_frontend.hooks.applyFilters("wfob_run_update_order_review_"+a.action,!0,a)?function(a){var e=a.product_key;f[e]=a,clearTimeout(t),console.log("bump_item_data",f,250*o(".wfob_wrapper").length),o("#wfob_input_hidden_data").val(JSON.stringify(a)),o(document.body).addClass("wfob_bump_trigger"),t=setTimeout(function(){o("#wfob_input_bump_global_data").val(JSON.stringify(f)),o(document.body).trigger("update_checkout")},100)}(a):wfob_frontend.hooks.doAction("wfob_run_update_order_review_placeholder_"+a.action,a)},window.wfob_send_ajax=function(t,a){var e=wfob_frontend.admin_ajax;t.hasOwnProperty("url")&&(e=t.url),t.action="wfob_"+t.action,wfob_frontend.hasOwnProperty("wc_endpoints")&&wfob_frontend.wc_endpoints.hasOwnProperty(t.action)&&(e=wfob_frontend.wc_endpoints[t.action]),t.wfob_nonce=wfob_frontend.wfob_nonce,o.ajax({url:e,type:t.type,data:t,success:function(o){"function"==typeof a&&a(o),"object"==_typeof(o)&&o.hasOwnProperty("nonce")&&(wfob_frontend.wfob_nonce=o.nonce)}})},wfob_frontend.hooks.addAction("wfob_ajax_add_order_bump",function(t,a){!0===t.status&&(o(".wfob_qv-close").trigger("click"),void 0!=t.new_item&&""!=t.new_item&&setTimeout(function(){o(document.body).trigger("wfob_product_added",{item:t.cart_item,item_key:t.wfob_product_key,cart_key:t.new_item})},300)),t.hasOwnProperty("analytics_data")&&o(document.body).trigger("wfob_checkout_data",{checkout:t.analytics_data})}),wfob_frontend.hooks.addAction("wfob_ajax_remove_order_bump",function(t,a){!0===t.status&&void 0!=t.remove_item&&""!=t.remove_item&&setTimeout(function(){o(document.body).trigger("wfob_product_removed",{item:t.cart_item,item_key:t.wfob_product_key,cart_key:t.remove_item})},300),t.hasOwnProperty("analytics_data")&&o(document.body).trigger("wfob_checkout_data",{checkout:t.analytics_data})}),window.numincreaseItmQty=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",e=o(t).siblings(".wfob_quantity_increment"),n=parseInt(e.val(),10);n=isNaN(n)?0:n,n++,e.val(n),e.trigger("change",[a])},window.numdecreaseItmQty=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var a=o(t).siblings(".wfob_quantity_increment"),e=parseInt(a.val(),10);(e=isNaN(e)?0:e)<1&&(e=1),e--,a.val(e),a.trigger("change")},o(document).on("click",".wfob_read_more_link",function(t){t.preventDefault();var a=o(this).parents(".wfob_bump"),e=a.find(".wfob_l3_s_desc"),n=a.find(".wfob_l3_c_sub_desc").siblings(".wfob_qv-button");a.hasClass("wfob_remove_read_more")?(e.slideUp(),setTimeout(function(){a.removeClass("wfob_remove_read_more")},100)):(e.slideDown(),setTimeout(function(){a.addClass("wfob_remove_read_more")},100)),n.length>0&&(n.is(":visible")?n.slideUp():n.slideDown())}),o(document).on("click",".wfob_l3_f_btn",function(t){t.preventDefault();var a=o(this).parents(".wfob_bump_r_outer_wrap");if(o(this).hasClass("wfob_choose_variation")){var e=a.find(".wfob_qv-button");if(e.length>0)return void e.trigger("click")}var n=a.data("wfob-id");n=parseInt(n);var i=a.data("product-key"),r=a.attr("cart_key"),f=1,c="";if(o(this).hasClass("wfob_item_present"))c="remove_order_bump";else{c="add_order_bump",r="";var d=a.find(".wfob_quantity_increment");d.length>0&&(f=d.eq(0).val())}o(this).closest(".wfacp_below_mini_cart_items").length>0&&o(".wfacp_mini_cart_start_h").addClass("wfob_mini_cart_container"),a.block(_),a.find(".wfob_l3_f_btn").length>0&&a.addClass("wfacp_bump_clicked"),set_data({action:c,type:"post",product_key:i,wfob_id:n,cart_key:r,qty:f})}),o(document).on("change",".wfob_quantity_increment",function(){clearTimeout(r),r=setTimeout(function(t){var a=o(t).val(),e=o(t).parents(".wfob_bump"),n=e.data("wfob-id");n=parseInt(n);var i=e.data("product-key"),r=e.attr("cart_key");if(""==r||void 0==r)return e.find(".wfob_btn_add").length>0?void e.find(".wfob_btn_add").trigger("click"):void e.find(".wfob_checkbox").trigger("click");e.block(_),set_data({action:"update_quantity",type:"post",product_key:i,qty:a,wfob_id:n,cart_key:r})},500,this)}),o(document).on("change",".wfob_bump_product:not(.wfob_choose_variation)",function(){var t=o(this).parents(".wfob_bump"),a=t.data("wfob-id");a=parseInt(a);var e=t.data("product-key"),n=t.attr("cart_key"),i=1,r="remove_order_bump";if(o(this).is(":checked")){r="add_order_bump",n="";var f=t.find(".wfob_quantity_increment");f.length>0&&(i=f.eq(0).val())}o(".wfacp_below_mini_cart_items .wfob_wrap_start").length>0&&o(".wfacp_mini_cart_start_h").addClass("wfob_mini_cart_container"),(t.hasClass("wfob_layout_7")||t.hasClass("wfob_layout_11"))&&t.addClass("wfacp_bump_clicked"),t.block(_),set_data({action:r,type:"post",product_key:e,wfob_id:a,cart_key:n,qty:i})}),o(document).ready(function(){function t(t,a){o(".wfob_qv-inner-modal").css("opacity","0").addClass(a)}function a(a,e){!function(t,a,e,n){t.action="quick_view_ajax",t.type="post",wfob_send_ajax(t,function(i){if(1==i.status){o(".wfob_qv-modal").html(i.html),o(".wfob_qv_content_wrap").removeClass("wfob_qv_no_html"),a(e,n),o(".wfob_qv-pl-active").removeClass("wfob_qv-pl-active"),wc_single_product_params.flexslider_enabled=!0,wc_single_product_params.photoswipe_enabled=!0,wc_single_product_params.zoom_enabled=!0,o(".woocommerce-product-gallery").each(function(){o(this).wc_product_gallery()}),o(".wfob_qv-panel").find(".variations_form").wc_variation_form(),o(".wfob_qv-panel .variations_form select").change(),t.hasOwnProperty("variation_id")&&function(t,a){if(!window.wfob_storage.variation_data.hasOwnProperty(t))return!1;var e=window.wfob_storage.variation_data[t];if(0===Object.keys(e).length)return!1;var n=e.attributes;if(0===Object.keys(n).length)return!1;for(var i in n){var r=o('[data-attribute_name="'+i+'"]');if(r.length>0){var _=n[i];r.val(_)}}}(t.variation_id,t.item_key),(d=o(".variations_form")).on("hide_variation",function(t){o(".wfob_qv-summary .quantity").hide(),o(".wfob_option_btn").show(),o(this).find(".wfob_single_add_to_cart_button").text(wfob_frontend.quick_popup.choose_an_option),c()}),d.on("show_variation",function(t,a){var e=a.variation_id;wfob_storage.variation_data[e]=a;var n="";n=""==o("#wfob_qr_model_wrap").data("cart-key")?wfob_frontend.quick_popup.add_to_cart_text:wfob_frontend.quick_popup.update,o(this).find(".wfob_single_add_to_cart_button").text(n),o(".wfob_qv-summary .quantity").show(),o(".wfob_option_btn").hide()});var r=o('.wfob_bump[data-product-key="'+t.item_key+'"]');if(o(document.body).trigger("wfob_quick_view_open",{data:i}),0===r.length)return;var _=o(".wfob_qv-summary .price");if(_.length>0){var f=r.find(".wfob_price").html();_.html(f)}}else o(".wfob_qv-close").trigger("click");var d})}(a,t,null,"wfob_qv-animation-fadein")}function e(t){o.each(t.target.classList,function(a,e){"wfob_qv-close"!==e&&"wfob_qv-inner-modal"!==e||(t.preventDefault(),o(".wfob_qv-opac").hide(),o(".wfob_qv-panel").removeClass("wfob_qv-panel-active"),o("html").removeClass("wfob_quick_view_opened"),o(".wfob_qv_content_wrap").addClass("wfob_qv_no_html"),o(".wfob_qv-modal").html(""))})}function n(t){var a=o(".wfob_qv-summary .variation_id").val();a>0&&t.attr("variation_id",a);var e=function(t){if(!window.wfob_storage.variation_data.hasOwnProperty(t))return{};var a=window.wfob_storage.variation_data[t];if(0===Object.keys(a).length)return{};var e=a.attributes;if(0===Object.keys(e).length)return{};var n={};for(var i in e){var r=o('[data-attribute_name="'+i+'"]');r.length>0&&(n[i]=r.val(),window.wfob_storage.variation_data[t].attributes[i]=r.val())}return n}(a),n=t.attr("cart_key"),i=t.data("wfob-id"),r=t.data("product-key"),f=1,c=t.find(".wfob_quantity_increment");c.length>0&&(f=c.eq(0).val()),t.find(".wfob_l3_f_btn").length>0&&t.addClass("wfacp_bump_clicked"),t.block(_);var d={action:"add_order_bump",type:"post",remove_item_key:n,product_key:r,variation_id:a,attributes:e,wfob_id:i,qty:f},s=jQuery(".wfob_qv-summary form.cart").serializeArray();s.length>0&&(o.each(s,function(o,t){if(/\[\]$/.test(t.name)){var a=t.name.substring(0,t.name.length-2);d[a]?d[a].push(t.value):d[a]=[t.value]}else d[t.name]=t.value}),d.bwf_payments_plan="yes"),set_data(d)}o(".wfob_qv-panel").on("click",".wfob_qv-close",e),o(document.body).on("click",".wfob_qv-inner-modal",e),o(document).keyup(function(t){27===t.keyCode&&o(".wfob_qv-close").trigger("click")}),o(document.body).on("click",".wfob_qv-button",function(o){o.preventDefault(),r(this)}),o(document).on("click",".wfob_single_add_to_cart_button",function(){var t=o(".wfob_qv-inner-modal"),a=t.data("item-key"),e=t.data("cart-key"),i=!1;if(o(this).addClass("wfob_button_loader_active"),(o(".wfob_qv-summary .variations_form").length>0||o(".bwf_plans_option_list").length>0)&&(i=!0),void 0!==e&&""!==e){var r=o('.wfob_bump[cart_key="'+e+'"]');r.length>0&&!0===i&&n(r)}else if(void 0!==a&&""!==a){var _=o('.wfob_bump[data-product-key="'+a+'"]');_.length>0&&!0===i&&n(_)}}),o(document).on("change",".wfob_choose_variation",function(){var t=o(this).parents(".wfob_bump").find(".wfob_qv-button");t.length>0&&r(t[0]),o(this).prop("checked",!1)});var i=null;function r(t){var e=this;clearTimeout(i),i=setTimeout(function(t){var n=o(t).parents(".wfob_bump");o("body").addClass("wfob_quick_view_active"),o(".wfob_qv-opac").show();var i=o(".wfob_qv-panel");i.addClass("wfob_qv-panel-active"),i.find(".wfob_qv-opl").addClass("wfob_qv-pl-active");var r=o(t).attr("qv-id"),_={};n.length>0&&(_.item_key=n.data("product-key"),_.cart_key=n.attr("cart_key")),_.wfob_id=n.data("wfob-id"),_.wfob_nonce=wfob_frontend.wfob_nonce,_.product_id=r;var f=o(e).attr("qv-var-id");void 0!=f&&(_.variation_id=f),a(_)},300,t)}}),o(document.body).on("updated_checkout",function(t,a){var i=o("#product_switcher_need_refresh");i.length>0&&i.val(1),o("#wfob_input_hidden_data").val("{}"),o(".wfob_bump_wrapper .wfob_bump").unblock(),"object"==_typeof(a)&&function(t){if(!t.hasOwnProperty("fragments"))return t;var a=t.fragments;o(".woocommerce-checkout-payment, .woocommerce-checkout-review-order-table").unblock(),o(document.body).removeClass("wfob_bump_trigger"),e!==a.cart_is_virtual&&wfob_frontend.hooks.applyFilters("wfob_reload_page_cart_virtual_changed",!0,t)&&("undefined"!=typeof wfob_frontend&&""===wfob_frontend.is_global||(e=a.cart_is_virtual));try{var i=o("#wfob_input_bump_shown_ids");i.length>0?a.hasOwnProperty("wfob_bump_shown_ids")&&""!==a.wfob_bump_shown_ids&&i.val(a.wfob_bump_shown_ids):(i=o("<input>",{type:"hidden",id:"wfob_input_bump_shown_ids",name:"wfob_input_bump_shown_ids",value:a.hasOwnProperty("wfob_bump_shown_ids")?a.wfob_bump_shown_ids:""}),o(".woocommerce-checkout").append(i))}catch(o){console.log("An error occurred while processing the bump shown IDs:",o)}var r=o("#shipping_same_as_billing_field");r.length>0&&(1==a.cart_is_virtual?r.hide():0==a.cart_is_virtual&&r.show()),!0!==a.cart_is_empty&&(a.hasOwnProperty("cart_total")&&0==parseFloat(a.cart_total)?(n=!0,d(t)):n?(n=!1,d(t)):a.hasOwnProperty(".cart_total")&&0===parseFloat(a[".cart_total"])&&(o(document.body).trigger("wfob_cart_goes_empty",{cart_total:parseFloat(a.cart_total)}),d(t)))}(a)}),a=!1,i.on("click",'input[name="payment_method"]',function(){"woo-mercado-pago-custom"===o(this).val()&&"object"==("undefined"==typeof MPv1?"undefined":_typeof(MPv1))&&1==a&&(MPv1.guessingPaymentMethod({event:"keyup"}),a=!1)}),o(document.body).on("wfob_cart_goes_empty",function(){n=!0}),o(document.body).on("wfacp_cart_goes_empty",function(){n=!0})}(jQuery);
/*! YOOtheme Pro v4.5.28 | https://yootheme.com */

(function(B,$){"use strict";function J(r,e,t,i){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function p(l){try{f(i.next(l))}catch(a){o(a)}}function h(l){try{f(i.throw(l))}catch(a){o(a)}}function f(l){l.done?n(l.value):s(l.value).then(p,h)}f((i=i.apply(r,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;function W(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var D,_;function H(){return _||(_=1,D=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,s,n;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(s=i;s--!==0;)if(!r(e[s],t[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(n=Object.keys(e),i=n.length,i!==Object.keys(t).length)return!1;for(s=i;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,n[s]))return!1;for(s=i;s--!==0;){var o=n[s];if(!r(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}),D}var X=H(),Q=W(X);const k="__googleMapsScriptId";var v;(function(r){r[r.INITIALIZED=0]="INITIALIZED",r[r.LOADING=1]="LOADING",r[r.SUCCESS=2]="SUCCESS",r[r.FAILURE=3]="FAILURE"})(v||(v={}));class y{constructor({apiKey:e,authReferrerPolicy:t,channel:i,client:s,id:n=k,language:o,libraries:p=[],mapIds:h,nonce:f,region:l,retries:a=3,url:w="https://maps.googleapis.com/maps/api/js",version:b}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=i,this.client=s,this.id=n||k,this.language=o,this.libraries=p,this.mapIds=h,this.nonce=f,this.region=l,this.retries=a,this.url=w,this.version=b,y.instance){if(!Q(this.options,y.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(y.instance.options)}`);return y.instance}y.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?v.FAILURE:this.done?v.SUCCESS:this.loading?v.LOADING:v.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(i=>{i?t(i.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id)){this.callback();return}const i={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(i).forEach(n=>!i[n]&&delete i[n]),!((t=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||t===void 0)&&t.importLibrary||(n=>{let o,p,h,f="The Google Maps JavaScript API",l="google",a="importLibrary",w="__ib__",b=document,c=window;c=c[l]||(c[l]={});const I=c.maps||(c.maps={}),P=new Set,E=new URLSearchParams,R=()=>o||(o=new Promise((S,C)=>J(this,void 0,void 0,function*(){var O;yield p=b.createElement("script"),p.id=this.id,E.set("libraries",[...P]+"");for(h in n)E.set(h.replace(/[A-Z]/g,L=>"_"+L[0].toLowerCase()),n[h]);E.set("callback",l+".maps."+w),p.src=this.url+"?"+E,I[w]=S,p.onerror=()=>o=C(Error(f+" could not load.")),p.nonce=this.nonce||((O=b.querySelector("script[nonce]"))===null||O===void 0?void 0:O.nonce)||"",b.head.append(p)})));I[a]?console.warn(f+" only loads once. Ignoring:",n):I[a]=(S,...C)=>P.add(S)&&R().then(()=>I[a](S,...C))})(i);const s=this.libraries.map(n=>this.importLibrary(n));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),n=>{const o=new ErrorEvent("error",{error:n});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const t=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${t} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}async function U(r,{apiKey:e,type:t,center:i,zoom:s,fit_bounds:n,min_zoom:o,max_zoom:p,zooming:h,dragging:f,clustering:l,cluster_icons:a,controls:w,poi:b,markers:c,styler_invert_lightness:I,styler_hue:P,styler_saturation:E,styler_lightness:R,styler_gamma:S,popup_max_width:C,clustererUrl:O}){const L=new y({apiKey:e,version:"weekly"}),[{event:V,LatLng:j,LatLngBounds:Y,Size:q,Point:ee},{Map:te,MapTypeId:ie,InfoWindow:re,StyledMapType:se},{Marker:x},{MarkerClusterer:ne}]=await Promise.all(["core","maps","marker"].map(u=>L.importLibrary(u)).concat(l?import(O).then(u=>u.default):{})),g=new te(r,{zoom:Number(s),minZoom:Number(h?o:s),maxZoom:Number(h?p:s),zoomControl:h&&w?null:!1,scrollwheel:h?null:!1,center:new j(i.lat,i.lng),mapTypeId:ie[t.toUpperCase()],disableDefaultUI:!w,gestureHandling:f||h?"auto":"none",mapTypeControlOptions:{mapTypeIds:["styled_map","satellite"]}});g.getMapCapabilities=()=>({...g.mapCapabilities,isAdvancedMarkersAvailable:!1});let F;const T=new re({maxWidth:C?parseInt(C,10):300});let N;if(l){const u={map:g};Array.isArray(a)&&(u.renderer={render({count:m,position:M}){let d;return m<10?d=a[0]:m<100?d=a[1]||a[0]:d=a[2]||a[1]||a[0],new x({position:M,icon:{url:d.url,scaledSize:d.size?new q(...d.size):null},label:{text:String(m),color:d.textColor?d.textColor:null,fontSize:"11px",fontWeight:"bold"},zIndex:Number(x.MAX_ZINDEX)+m})}}),N=new ne(u)}c==null||c.forEach(({lat:u,lng:m,content:M,show_popup:d,icon:Z,iconSize:G,iconAnchor:K,title:ae})=>{const A=new x({map:g,title:ae,position:new j(u,m)});if(Z&&A.setIcon({url:Z,scaledSize:G?new q(...G):null,anchor:K?new ee(...K):null}),N&&N.addMarker(A),M){const z=()=>{if(T.getMap()&&F===A){T.close();return}T.setContent(M),T.open(g,A),F=A};V.addListener(A,"click",z),d&&z()}});const oe=new se([{featureType:"all",elementType:"all",stylers:[{invert_lightness:I},{hue:P},{saturation:E},{lightness:R},{gamma:S}]},{featureType:"poi",stylers:[{visibility:b?"on":"off"}]}],{name:"Map"});if(g.mapTypes.set("styled_map",oe),t.toUpperCase()==="ROADMAP"&&g.setMapTypeId("styled_map"),n&&(c!=null&&c.length)){const u=new Y;for(const{lat:m,lng:M}of c)u.extend(new j(m,M));g.fitBounds(u)}}B.component("Map",{connected(){var r,e,t;this.script||(this.script=$.$("script",this.$el)),this.script&&((r=this.map)!=null||(this.map=JSON.parse(this.script.textContent)),(e=this.templates)!=null||(this.templates=$.$$("template",this.$el)),(t=this.map.markers)==null||t.forEach((i,s)=>{i.content=$.html(this.templates[s]).trim(),!i.icon&&this.map.icon&&(i.icon=this.map.icon,i.iconSize=this.map.iconSize,i.iconAnchor=this.map.iconAnchor)}),this.map.lazyload&&"IntersectionObserver"in window?$.observeIntersection(this.$el,(i,s)=>{U(this.$el,this.map),s.disconnect()},{rootMargin:`${window.innerHeight/2}px 0px`}):U(this.$el,this.map))}})})(UIkit,UIkit.util);
